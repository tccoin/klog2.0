<dom-module id="klog-style-markdown">
  <template>
    <style>
      :host {
        display: block;
        position: relative;
        color: var(--klog-markdown-text-color);
      }

      .klog-article-content {
        padding: var(--klog-markdown-padding, 0 16px);
        font-size: var(--klog-markdown-font-size, 14px);
        word-break: break-word;
        min-height: calc(100% - 2 * var(--klog-markdown-padding));
      }

      .klog-article-content p {
        margin: 0 0 1.5em;
        text-align: justify;
      }

      .klog-article-content li p {
        margin-bottom: 0;
      }

      .klog-article-content p:first-child,
      .klog-article-content h1:first-child,
      .klog-article-content h2:first-child,
      .klog-article-content h3:first-child,
      .klog-article-content h4:first-child,
      .klog-article-content h5:first-child,
      .klog-article-content h6:first-child {
        margin-top: 0;
      }

      .klog-article-content h1,
      .klog-article-content h2,
      .klog-article-content h3,
      .klog-article-content h4,
      .klog-article-content h5,
      .klog-article-content h6 {
        color: var(--klog-markdown-title-color);
      }

      .klog-article-content a {
        color: var(--primary-color);
        text-decoration: none;
        border-bottom: 1px solid currentColor;
      }

      .klog-article-content a:visited {
        color: var(--primary-color);
      }

      .klog-article-content em {
        font-family: "Biaodian Pro Serif GB", "Numeral LF Serif", Georgia, "Times New Roman", "Han Kaiti GB", cursive, serif;
        padding: 0 2px;
        font-style: normal;
        -moz-text-emphasis: none !important;
        -webkit-text-emphasis: none !important;
        text-emphasis: none !important;
        display: inline;
      }

      .klog-article-content strong {
        color: var(--primary-text-color);
        font-weight: bold;
        font-family: inherit !important;
      }

      .klog-article-content blockquote {
        font-family: "Biaodian Pro Serif GB", "Numeral LF Serif", Georgia, "Times New Roman", 'Noto Serif CJK SC', 'Source Han Serif SC', ‘Source Han Serif’, source-han-serif-sc, '宋体', serif !important;
        font-weight: 400;
        padding-left: 2em;
        margin: 2em 0;
        font-size: .9em;
        position: relative;
      }

      .klog-article-content blockquote::before {
        content: '';
        position: absolute;
        left: 0;
        top: 0;
        bottom: 0;
        width: 4px;
        background: var(--divider-color);
        border-radius: 2px;
      }

      .klog-article-content code,
      .klog-article-content pre {
        font-family: Menlo, Monaco, Consolas, "Andale Mono", "lucida console", "Courier New", -apple-system, "PingFang SC", "Hiragino Sans GB", "Source Han Sans CN", "Source Han Sans SC", "Microsoft YaHei", "Wenquanyi Micro Hei", "WenQuanYi Zen Hei", "ST Heiti", SimHei, "WenQuanYi Zen Hei Sharp", sans-serif !important;
        background: var(--klog-markdown-block-color);
      }

      .klog-article-content pre {
        padding: 16px 0 0;
        line-height: 1.5;
        border-radius: 5px;
        text-align: left;
        white-space: pre;
        word-spacing: normal;
        word-break: normal;
        word-wrap: normal;
        -moz-tab-size: 4;
        -o-tab-size: 4;
        tab-size: 4;
        overflow: hidden;
      }

      .klog-article-content pre code {
        display: block;
        width: 100%;
        padding: 16px;
        overflow: auto;
        box-sizing: border-box;
      }

      .klog-article-content :not(pre)>code,
      .klog-article-content>code {
        padding: 1px 4px;
        border-radius: 3px;
        word-break: break-all;
        white-space: normal;
      }

      .klog-article-content .meta {
        padding: 0 16px;
      }

      .klog-article-content pre .code-lang {
        padding: 2px 10px;
        border-top: 1px solid var(--divider-color);
        border-radius: 12px;
        background: var(--primary-background-color);
        font-size: 0.875em;
        color: var(--secondary-text-color);
        user-select: none;
        cursor: default;
      }

      .klog-article-content pre code:first-child {
        padding-top: 0;
      }

      .klog-article-content klog-player-lite {
        width: 100%;
        --klog-player-border-radius: 5px;
        --klog-player-background-color: var(--klog-markdown-block-color);
      }

      .klog-article-content [image] {
        @apply(--klog-markdown-image-container);
      }

      .klog-article-content klog-image {
        max-width: 100%;
        border-radius: 5px;
        --klog-image-border-radius: 5px;
        @apply(--klog-markdown-image);
      }

      .klog-article-content [image] .description::before {
        content: '';
        display: inline-block;
        width: 8px;
        height: 8px;
        margin: 0 8px 0 0;
        background: var(--divider-color);
        clip-path: polygon(45% 0, 55% 0, 100% 80%, 0 80%);
        border-radius: 50%;
        transition: clip-path .3s ease;
      }

      .klog-article-content [image]:hover .description::before {
        clip-path: polygon(0 0, 100% 0, 100% 100%, 0 100%);
      }

      .klog-article-content [image] .description {
        color: var(--secondary-text-color);
        padding: 12px 0 0;
      }

      .klog-article-content table {
        margin: 1em 0;
        text-align: left;
        background: var(--klog-markdown-block-color);
        padding: 16px 8px 16px 16px;
        border-radius: 5px;
      }

      .klog-article-content td {
        padding-right: 8px;
      }

      .klog-article-content [toc]>ol {
        padding-left: 0;
      }

      .klog-article-content [toc] ol {
        counter-reset: section;
        list-style-type: none;
      }

      .klog-article-content [toc] li::before {
        counter-increment: section;
        content: counters(section, ".") " ";
      }

      .klog-article-content [toc] li>span {
        cursor: pointer;
      }

      .klog-article-content [toc] li.selected:hover>span {
        text-decoration: underline;
      }

      ::selection {
        background: var(--klog-markdown-selection-background);
      }
    </style>
  </template>
</dom-module>